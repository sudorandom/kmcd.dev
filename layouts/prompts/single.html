{{ define "main" }}
  {{ partial "load-mastodon.html" . }}
  <main class="post">
    <h1 class="post-title">
      Daily Prompt: {{ dateFormat "2006-01-02" .Date.Local }}
    </h1>
    {{ with .Params.Description }}
      <div class="post-excerpt">{{ . }}</div>
    {{ end }}

    <div class="main-wrapper">
    <div class="main-box">
    <article>
      {{ partial "prompts/load-cover.html" . }}
      {{- $cover := ($.Page.Store.Get "prompts-cover").Fill "1520x400 Center webp q100" -}}
      <figure>
          <img src="{{ $cover.RelPermalink }}" alt="{{ $cover.Title }}" />
          {{ with .Params.CoverCaption }}
              <figcaption class="center">{{ . | markdownify }}</figcaption>
          {{ end }}
      </figure>
      <div class="post-content">
        <h2>{{ .Title }}</h2>
        {{ with .Page.Store.Get "toot" }}
        <div class="button small mastodon previous">
          <a href="{{ .status.url }}" target="_blank">
            <span class="button__icon"><i class="fa-brands fa-mastodon"></i></span>
            <span class="button__text">Discuss on Mastodon</span>
          </a>
        </div>
        {{ end }}
      </div>
      </div>
      </div>
    </article>
    {{ partial "pagination-single.html" . }}
    {{- with .Page.Store.Get "toot" -}}
    {{ with .replies}}
      <h2>Replies<small>({{ len . }})</small></h2>
      {{- range . }}
        {{ partial "little-toot.html" .status }}
      {{- end -}}
    {{ end }}
  {{- end -}}
  </main>

{{ end }}

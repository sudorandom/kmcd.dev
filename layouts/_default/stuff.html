{{ define "main" }}
<main class="post">
    <article>
        {{if not .Params.hideTitle }}
        <h1 class="post-title">{{ with .Params.TitleIcon}}<i class="fa-solid {{ . }}"></i> {{end}}<a
                href="{{ .Permalink }}">{{ .Title | markdownify }}</a></h1>
        {{ with .Params.Subtitle }}<div class="post-excerpt">{{ . }}</div>{{ end }}
        {{ end }}

        {{ range .Site.Data.projects }}
        <span id="{{ .category | urlize }}">
            <h2>{{ .category }}</h2>
        </span>
        {{ range .projects }}
        <div class="projects-wrapper">
            <div class="projects-box">
                <h3><a href="{{ .url }}" {{ if not (strings.HasPrefix .url "/") }}target="_blank"{{ end }}>{{ .name }}</a></h3>
                <p>
                    {{ .description | safeHTML }}
                </p>
                <div class="project-icons" style="clear: right;">
                    {{ range .links }}
                    <a href="{{ .url }}" {{ if not (strings.HasPrefix .url "/") }}target="_blank"{{ end }}><i class="{{ .icon }}"></i></a>
                    {{ end }}
                </div>
            </div>
        </div>
        {{ end }}
        {{ end }}
    </article>
</main>
{{ end }}